<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <meta charset="utf-8">
    <title>Brainart</title>
    <!-- BrainArt:
         http://www.github.com/vsoch/brainart 
         Poldracklab... will you take the blue brain, or the red brain? -->
    <script type="text/javascript" src="https://raw.githubusercontent.com/vsoch/brainart/master/js/d3.v3.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Roboto:300' rel='stylesheet' type='text/css'>
</head>

<body>
<div id="plot"></div>

<script type="text/javascript">

    // Create canvas
    svg = d3.select("#plot")
      .append("svg")
      .attr("height","100%")
      .attr("width","100%")
           
    inputjson = {{DATA}}

    // Set the background color
    $("#body").css("background-color",inputjson.bgcolor);

    var data = inputjson.image

    // Create a brain path for each data element
    svg.selectAll("#body")
        .data(data)
        .enter()
        .append("svg:a")
            .attr("xlink:href",function(d){
                 var image = d.png
                 image = image.split("/")
                 image = image[image.length-1]
                 image = image.split("_")[0]
                 return "http://www.neurovault.org/images/" + image
             })
             .attr("target","_blank")
        .append("svg:image")
            .attr("xlink:href", function(d){return d.png;})
            .attr("y",function(d){ return 1.5*d.y })
            .attr("x",function(d){ return 1.5*d.x })
            .attr("width", 16)
            .attr("height", 16)

</script>
</body></html>
