{"recorded_with": "betamax/0.6.0", "http_interactions": [{"recorded_at": "2016-04-16T20:35:33", "request": {"body": {"string": "", "encoding": "utf-8"}, "uri": "https://api.github.com/repos/sigmavirus24/github3.py/pulls/235", "method": "GET", "headers": {"Accept-Charset": "utf-8", "User-Agent": "github3.py/1.0.0a4", "Content-Type": "application/json", "Accept": "application/vnd.github.v3.full+json", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive"}}, "response": {"status": {"message": "OK", "code": 200}, "body": {"string": "", "encoding": "utf-8", "base64_string": "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"}, "url": "https://api.github.com/repos/sigmavirus24/github3.py/pulls/235", "headers": {"Status": "200 OK", "Server": "GitHub.com", "X-Frame-Options": "deny", "ETag": "W/\"51c76ea3e3d49ab7622c56288b405062\"", "Content-Security-Policy": "default-src 'none'", "Access-Control-Expose-Headers": "ETag, Link, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval", "X-Served-By": "bae57931a6fe678a3dffe9be8e7819c8", "X-RateLimit-Reset": "1460842265", "Date": "Sat, 16 Apr 2016 20:35:33 GMT", "Content-Encoding": "gzip", "X-GitHub-Media-Type": "github.v3; param=full; format=json", "X-XSS-Protection": "1; mode=block", "X-RateLimit-Limit": "60", "Vary": "Accept", "X-GitHub-Request-Id": "60255B4F:1559E:12C74096:5712A215", "Transfer-Encoding": "chunked", "Last-Modified": "Tue, 05 Apr 2016 19:04:53 GMT", "Cache-Control": "public, max-age=60, s-maxage=60", "Access-Control-Allow-Origin": "*", "X-Content-Type-Options": "nosniff", "Content-Type": "application/json; charset=utf-8", "Strict-Transport-Security": "max-age=31536000; includeSubdomains; preload", "X-RateLimit-Remaining": "45"}}}, {"recorded_at": "2016-04-16T20:35:33", "request": {"body": {"string": "", "encoding": "utf-8"}, "uri": "https://api.github.com/repos/sigmavirus24/github3.py/pulls/235", "method": "GET", "headers": {"Accept-Charset": "utf-8", "User-Agent": "github3.py/1.0.0a4", "Content-Type": "application/json", "Accept": "application/vnd.github.patch", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive"}}, "response": {"status": {"message": "OK", "code": 200}, "body": {"string": "From 47cba939175db6f450e46c25279d3b83c88df94b Mon Sep 17 00:00:00 2001\nFrom: Benjamin Gilbert <bgilbert@cs.cmu.edu>\nDate: Fri, 2 May 2014 02:08:14 -0400\nSubject: [PATCH 1/2] Add Release.assets attribute\n\nThe JSON describing a release includes complete information on its\nassets.  Add Release.assets attribute with a list of Assets.  This is\ncheaper for the application than making a separate request via\nRelease.iter_assets().\n\nLeave Release.iter_assets() in place, in case someone has a use for it,\nbut mention Release.assets in its documentation.\n---\n github3/repos/release.py         |  6 +++++-\n tests/unit/test_repos_release.py | 16 ++++++++++++++++\n 2 files changed, 21 insertions(+), 1 deletion(-)\n\ndiff --git a/github3/repos/release.py b/github3/repos/release.py\nindex 8b4f942..9968adc 100644\n--- a/github3/repos/release.py\n+++ b/github3/repos/release.py\n@@ -22,6 +22,8 @@ class Release(GitHubCore):\n     def __init__(self, release, session=None):\n         super(Release, self).__init__(release, session)\n         self._api = release.get('url')\n+        #: List of :class:`Asset <Asset>` objects for this release\n+        self.assets = [Asset(i, self) for i in release.get('assets', [])]\n         #: URL for uploaded assets\n         self.assets_url = release.get('assets_url')\n         #: Body of the release (the description)\n@@ -104,7 +106,9 @@ def edit(self, tag_name=None, target_commitish=None, name=None, body=None,\n         return successful\n \n     def iter_assets(self, number=-1, etag=None):\n-        \"\"\"Iterate over the assets available for this release.\n+        \"\"\"Iterate over the assets available for this release.  The same\n+        information is available, without an additional network access,\n+        from the :attr:`assets` attribute.\n \n         :param int number: (optional), Number of assets to return\n         :param str etag: (optional), last ETag header sent\ndiff --git a/tests/unit/test_repos_release.py b/tests/unit/test_repos_release.py\nindex c9d12f6..d0cd413 100644\n--- a/tests/unit/test_repos_release.py\n+++ b/tests/unit/test_repos_release.py\n@@ -15,6 +15,18 @@ class TestRelease(UnitHelper):\n     example_data = {\n         \"url\": releases_url(\"/1\"),\n         \"html_url\": \"https://github.com/octocat/Hello-World/releases/v1.0.0\",\n+        \"assets\": [{\n+            \"url\": releases_url(\"/assets/1\"),\n+            \"id\": 1,\n+            \"name\": \"example.zip\",\n+            \"label\": \"short description\",\n+            \"state\": \"uploaded\",\n+            \"content_type\": \"application/zip\",\n+            \"size\": 1024,\n+            \"download_count\": 42,\n+            \"created_at\": \"2013-02-27T19:35:32Z\",\n+            \"updated_at\": \"2013-02-27T19:35:32Z\"\n+            }],\n         \"assets_url\": releases_url(\"/1/assets\"),\n         \"upload_url\": releases_url(\"/1/assets{?name}\"),\n         \"id\": 1,\n@@ -29,6 +41,10 @@ class TestRelease(UnitHelper):\n         }\n \n     # Attribute tests\n+    def test_assets(self):\n+        assert self.instance.assets is not None\n+        assert isinstance(self.instance.assets[0], Asset)\n+\n     def test_has_upload_urlt(self):\n         assert self.instance.upload_urlt is not None\n \n\nFrom 560c19155ac83eb38713db56c56c7aeaa122c528 Mon Sep 17 00:00:00 2001\nFrom: Benjamin Gilbert <bgilbert@cs.cmu.edu>\nDate: Sat, 3 May 2014 00:06:20 -0400\nSubject: [PATCH 2/2] Revert Release.iter_assets() docstring change\n\n---\n github3/repos/release.py | 4 +---\n 1 file changed, 1 insertion(+), 3 deletions(-)\n\ndiff --git a/github3/repos/release.py b/github3/repos/release.py\nindex 9968adc..10e0b77 100644\n--- a/github3/repos/release.py\n+++ b/github3/repos/release.py\n@@ -106,9 +106,7 @@ def edit(self, tag_name=None, target_commitish=None, name=None, body=None,\n         return successful\n \n     def iter_assets(self, number=-1, etag=None):\n-        \"\"\"Iterate over the assets available for this release.  The same\n-        information is available, without an additional network access,\n-        from the :attr:`assets` attribute.\n+        \"\"\"Iterate over the assets available for this release.\n \n         :param int number: (optional), Number of assets to return\n         :param str etag: (optional), last ETag header sent\n", "encoding": "utf-8"}, "url": "https://api.github.com/repos/sigmavirus24/github3.py/pulls/235", "headers": {"Status": "200 OK", "Server": "GitHub.com", "X-Frame-Options": "deny", "ETag": "\"1ccc77cae0d830705145ca6034aea059\"", "Content-Security-Policy": "default-src 'none'", "Access-Control-Expose-Headers": "ETag, Link, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval", "X-Served-By": "76d9828c7e4f1d910f7ba069e90ce976", "X-RateLimit-Reset": "1460842265", "Date": "Sat, 16 Apr 2016 20:35:33 GMT", "X-GitHub-Media-Type": "github.v3; param=patch", "Content-Length": "4168", "X-XSS-Protection": "1; mode=block", "X-RateLimit-Limit": "60", "Vary": "Accept", "X-GitHub-Request-Id": "60255B4F:1559E:12C740B2:5712A215", "Last-Modified": "Tue, 05 Apr 2016 19:04:53 GMT", "Cache-Control": "public, max-age=60, s-maxage=60", "Access-Control-Allow-Origin": "*", "X-Content-Type-Options": "nosniff", "Content-Type": "application/vnd.github.patch; charset=utf-8", "Strict-Transport-Security": "max-age=31536000; includeSubdomains; preload", "X-RateLimit-Remaining": "44"}}}]}