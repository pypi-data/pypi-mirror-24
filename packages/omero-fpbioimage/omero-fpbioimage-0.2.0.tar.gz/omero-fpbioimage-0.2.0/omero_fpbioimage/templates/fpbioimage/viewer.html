<!DOCTYPE html>
<html>
<head>
  <title>OMERO First Person Bioimage</title>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <!-- EDIT THIS JAVASCRIPT! -->
  <script type='text/javascript'>
    pathToImages = "{% url 'fpbioimage_index' %}imageStacks/{{ image.id }}"; // This is the path relative to the FPBioimage parent folder
    uniqueName = "fpbioimage_{{ image.id }}"; // Give this image stack a unique name for bookmarking to work correctly
    numberOfImages = {{ image.getSizeZ }};  // Number of images in the stack
    imagePrefix = "";  // The prefix of the image stack file names
    numberingFormat = "000";  // eg. "000" for 000, 001, 002, 003 etc.
    voxelSize = [{{ size_x }}, {{ size_y }}, {{ size_z }}]; // This needs to be a ratio of x:y:z voxel size.

    pathToFPBioimage = "{% static 'fpbioimage/FPBioimage' %}"; // The path to the FPBioimage folder from this webpage

    // optional parameters
    intensity = 1;
  </script>
  <!-- END OF REQUIRED EDITS -->

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
  body {
    font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif;
    margin: 0;
  }

  .header {
    height:40px;
    background: #009688;
    text-align: center;
    color: white;
    font-size: 22px;
  }

  footer {
    position: absolute;
    bottom: 0;
    text-align: center;
    width: 100%;
    background: #ccc;
    height: 35px;
  }

  #fullBrowserWindow {
    width: 100%;
    height: calc(100% - 75px);
    position: absolute;
    top: 40px;
  }
  #fullBrowserWindow canvas {
    width: 100%;
    height: 100%;
  }
  </style>
</head>
<body>

  <!-- Header -->
  <div class="header">
    <div style="padding-top: 6px">{{ image.getName }}</div>
  </div>

  <!-- Put the WebGL Canvas in here-->
  <div id="fullBrowserWindow"></div>

  <!-- Footer -->
  <footer>
    <p style="margin: 5px;">
      First Person Bioimage
      <a href="http://laser.ceb.cam.ac.uk/directory/marcus-fantham" class="w3-text-teal">
        &copy; Marcus Fantham</a> |
      See the paper in
      <a href="https://www.nature.com/nphoton/journal/v11/n2/full/nphoton.2016.273.html"
        class="w3-text-teal">
        Nature Photonics</a> |
      Press 'm' to show controls
    </p>
  </footer>


  <div id="jsHolder"></div>
  <script type="text/javascript">
    var s1 = document.createElement("script");
    s1.type = "text/javascript";
    s1.src = pathToFPBioimage + "/FPProgress.js";
    s1.innerHTML = null;
    document.getElementById("jsHolder").innerHTML = "";
    document.getElementById("jsHolder").appendChild(s1);
  </script>

</body>
</html>
