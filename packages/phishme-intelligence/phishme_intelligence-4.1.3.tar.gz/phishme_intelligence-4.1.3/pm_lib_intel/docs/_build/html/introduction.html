
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction &#8212; pm_lib_intel 4.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '4.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial" href="demo.html" />
    <link rel="prev" title="Welcome to pm_lib_intel’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>This library is intended as an incorporation of best practices for interacting with the PhishMe Intelligence product.</p>
</div>
<div class="section" id="tips-features-and-best-practices">
<h1>Tips, Features, and Best Practices<a class="headerlink" href="#tips-features-and-best-practices" title="Permalink to this headline">¶</a></h1>
<div class="section" id="concurrency">
<h2>Concurrency<a class="headerlink" href="#concurrency" title="Permalink to this headline">¶</a></h2>
<p>Each time this script is executed, it creates an empty lock file (the location is determined by a path in the config.ini file). On a successful exit, the lock file is removed. Prior to creating the lock file, the script verifies that a lock file does not already exist. If it does, the script immediately exits without performing any additional action. This prevents multiple instances of this script being executed at the same time.</p>
</div>
<div class="section" id="file-location">
<h2>File Location<a class="headerlink" href="#file-location" title="Permalink to this headline">¶</a></h2>
<p>PhishMe recommends placing the supplied files in a subdirectory under /opt. All the configuration that takes places will be applied to the config.ini file. While you can deploy config.ini in the same directory as the provided python scripts, PhishMe recommends as a best practice that you place this file in your home directory, change the owner and group (chown user:usergroup config.ini), change the permissions to this file to be 600 (chmod 600 config.ini) and pass the full path to the script as an argument to the ‘-conf’ flag. And of course, none of this should be owned or executed as root.</p>
</div>
<div class="section" id="monitoring">
<h2>Monitoring<a class="headerlink" href="#monitoring" title="Permalink to this headline">¶</a></h2>
<p>Very little, if any, information will be written to standard out. To follow along with the integration script and see what it is doing use the following command. The location of this file can be changed in the config.ini, the example is using the typical default setting and assumes a linux or Mac host. This log file is automatically rolled when it reaches 5MB and only the most recent 10 files are kept.
tail -f /tmp/phishme.log</p>
</div>
<div class="section" id="scheduler">
<h2>Scheduler<a class="headerlink" href="#scheduler" title="Permalink to this headline">¶</a></h2>
<p>PhishMe recommends executing this script at 15 minute intervals. An example crontab entry would be:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">*/</span><span class="mi">15</span> <span class="o">*</span> <span class="o">*</span> <span class="o">*</span> <span class="o">*</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">python</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">phishme</span><span class="o">/</span><span class="n">intelligence</span><span class="o">/</span><span class="n">phishme_to_product</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">conf</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">username</span><span class="o">/</span><span class="n">config</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
<p>If that doesn’t work, you may need to change the working directory like so:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">*/</span><span class="mi">15</span> <span class="o">*</span> <span class="o">*</span> <span class="o">*</span> <span class="o">*</span> <span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">phishme</span><span class="o">/</span><span class="n">intelligence</span> <span class="o">&amp;&amp;</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">python</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">phishme</span><span class="o">/</span><span class="n">intelligence</span><span class="o">/</span><span class="n">phishme_to_product</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">conf</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">username</span><span class="o">/</span><span class="n">config</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
</div>
<div class="section" id="synchronization">
<h2>Synchronization<a class="headerlink" href="#synchronization" title="Permalink to this headline">¶</a></h2>
<p>This integration uses a combination of the init_date in the config file and a UUID stored in the position field to know what data to request from PhishMe’s Intelligence API. When first executed, the init_date is used to perform a backfill of PhishMe Intelligence from that date to the current time. As the final step of this backfill, the current time is provided to the PhishMe Intelligence API and a UUID is returned. This UUID is written to the config.ini as the position value. During each subsequent request to PhishMe, this UUID will be provided and if new data is returned, a new UUID will also be returned and written to config.ini. Operationally, this means that service interruptions can occur on either the client or the server side for any time duration and synchronization will be achieved after the next successful execution of the PhishMe Intelligence integration script.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction</a></li>
<li><a class="reference internal" href="#tips-features-and-best-practices">Tips, Features, and Best Practices</a><ul>
<li><a class="reference internal" href="#concurrency">Concurrency</a></li>
<li><a class="reference internal" href="#file-location">File Location</a></li>
<li><a class="reference internal" href="#monitoring">Monitoring</a></li>
<li><a class="reference internal" href="#scheduler">Scheduler</a></li>
<li><a class="reference internal" href="#synchronization">Synchronization</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to pm_lib_intel’s documentation!</a></li>
      <li>Next: <a href="demo.html" title="next chapter">Tutorial</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/introduction.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, PhishMe Intelligence.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/introduction.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>