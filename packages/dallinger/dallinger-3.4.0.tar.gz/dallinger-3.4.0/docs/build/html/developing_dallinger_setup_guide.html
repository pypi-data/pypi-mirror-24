
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Developer Installation &#8212; Dallinger 3.4.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Running the tests" href="running_the_tests.html" />
    <link rel="prev" title="Vox Populi (Wisdom of the crowd)" href="demos/vox_populi/index.html" />
 <script type="text/javascript">
   (function (w,i,d,g,e,t,s) {w[d] = w[d]||[];t= i.createElement(g);
     t.async=1;t.src=e;s=i.getElementsByTagName(g)[0];s.parentNode.insertBefore(t, s);
   })(window, document, '_gscq','script','//widgets.getsitecontrol.com/58185/script.js');
  </script>

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="developer-installation">
<h1>Developer Installation<a class="headerlink" href="#developer-installation" title="Permalink to this headline">¶</a></h1>
<p>We recommend installing Dallinger on Mac OS X. It’s also possible to use
Ubuntu, either directly or <a class="reference internal" href="vagrant_setup.html"><span class="doc">in a virtual machine</span></a>. Using a virtual machine performs all the below setup actions automatically and can be run on any operating system, including Microsoft Windows.</p>
<div class="section" id="install-python-2-7">
<h2>Install Python 2.7<a class="headerlink" href="#install-python-2-7" title="Permalink to this headline">¶</a></h2>
<p>You will need Python 2.7. You can check what version of Python you have
by running:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
<p>If you do not have Python 2.7 installed, you can install it from the
<a class="reference external" href="https://www.python.org/downloads/">Python website</a>.</p>
<p>Or, if you use Homebrew:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">python</span>
</pre></div>
</div>
<p>Or, if you use Anaconda, install using <code class="docutils literal"><span class="pre">conda</span></code>, not Homebrew.</p>
<p>If you have Python 3.<em>x</em> installed and and symlinked to the command
<code class="docutils literal"><span class="pre">python</span></code>, you will need to create a <code class="docutils literal"><span class="pre">virtualenv</span></code> that interprets the
code as <code class="docutils literal"><span class="pre">python2.7</span></code>.
Fortunately, we will be creating a virtual environment anyway, so as
long as you run <code class="docutils literal"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">python</span></code> and you don’t run into any
errors because of your symlinks, then you can proceed with the
instructions. If you do run into any errors, good luck, we’re rooting
for you.</p>
</div>
<div class="section" id="install-postgres">
<h2>Install Postgres<a class="headerlink" href="#install-postgres" title="Permalink to this headline">¶</a></h2>
<p>On OS X, we recommend installing
<a class="reference external" href="http://postgresapp.com">Postgres.app</a> to start and stop a Postgres
server. You’ll also want to set up the Postgres command-line utilities
by following the instructions
<a class="reference external" href="http://postgresapp.com/documentation/cli-tools.html">here</a>.</p>
<p>You will then need to add Postgres to your PATH environmental variable.
If you use the default location for installing applications on OS X
(namely <code class="docutils literal"><span class="pre">/Applications</span></code>), you can adjust your path by running the
following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;$PATH:/Applications/Postgres.app/Contents/Versions/latest/bin&quot;</span>
</pre></div>
</div>
<p>NB: If you have installed an older version of Postgres (e.g., &lt; 9.5),
you may need to alter that command to accommodate the more recent
version number. To double check which version to include, run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">/</span><span class="n">Applications</span><span class="o">/</span><span class="n">Postgres</span><span class="o">.</span><span class="n">app</span><span class="o">/</span><span class="n">Contents</span><span class="o">/</span><span class="n">Versions</span><span class="o">/</span>
</pre></div>
</div>
<p>Whatever values that returns are the versions that you should place in
the <code class="docutils literal"><span class="pre">export</span></code> command above in the place of <code class="docutils literal"><span class="pre">latest</span></code>.</p>
<p>If it does not return a number, you have not installed Postgres
correctly in your <code class="docutils literal"><span class="pre">/Applications</span></code> folder or something else is horribly
wrong.</p>
<p>On Ubuntu, follow the instructions under the heading “Installation”
<a class="reference external" href="https://help.ubuntu.com/community/PostgreSQL">here</a>.</p>
</div>
<div class="section" id="create-the-database">
<h2>Create the Database<a class="headerlink" href="#create-the-database" title="Permalink to this headline">¶</a></h2>
<p>After installing Postgres, you will need to create a database for your
experiments to use. First, open the Postgres.app. Then, run the
following command from the command line:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">psql</span> <span class="o">-</span><span class="n">c</span> <span class="s1">&#39;create database dallinger;&#39;</span> <span class="o">-</span><span class="n">U</span> <span class="n">postgres</span>
</pre></div>
</div>
<p>If you get the following error…</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>psql: could not connect to server: No such file or directory
    Is the server running locally and accepting
    connections on Unix domain socket &quot;/tmp/.s.PGSQL.5432&quot;?
</pre></div>
</div>
<p>…then you probably did not start the app.</p>
<p>If you get the following error…</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">dyld</span><span class="p">:</span> <span class="n">Library</span> <span class="ow">not</span> <span class="n">loaded</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">readline</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libreadline</span><span class="o">.</span><span class="mf">6.</span><span class="n">dylib</span>
    <span class="n">Referenced</span> <span class="n">from</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">psql</span>
    <span class="n">Reason</span><span class="p">:</span> <span class="n">image</span> <span class="ow">not</span> <span class="n">found</span>
<span class="n">Abort</span> <span class="n">trap</span><span class="p">:</span> <span class="mi">6</span>
</pre></div>
</div>
<p>… then type the following command into the command line:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">createdb</span> <span class="o">-</span><span class="n">U</span> <span class="n">postgres</span> <span class="n">dallinger</span>
</pre></div>
</div>
<p>(This error may arise if you are running Python 2.7 with Anaconda within a virtual environment.)</p>
</div>
<div class="section" id="set-up-a-virtual-environment">
<h2>Set up a virtual environment<a class="headerlink" href="#set-up-a-virtual-environment" title="Permalink to this headline">¶</a></h2>
<p><strong>Note</strong>: if you are using Anaconda, ignore this <code class="docutils literal"><span class="pre">virtualenv</span></code>
section; use <code class="docutils literal"><span class="pre">conda</span></code> to create your virtual environment. Or, see the
special <a class="reference internal" href="dallinger_with_anaconda.html"><span class="doc">Anaconda installation instructions</span></a>.</p>
<p>Set up a virtual environment by running the following commands:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>pip install virtualenv
pip install virtualenvwrapper
export WORKON_HOME=$HOME/.virtualenvs
mkdir -p $WORKON_HOME
source $(which virtualenvwrapper.sh)
mkvirtualenv dallinger --python /usr/local/bin/python2.7
</pre></div>
</div>
<p>These commands use <code class="docutils literal"><span class="pre">pip</span></code>, the Python package manager, to install two
packages <code class="docutils literal"><span class="pre">virtualenv</span></code> and <code class="docutils literal"><span class="pre">virtualenvwrapper</span></code>. They set up an
environmental variable named <code class="docutils literal"><span class="pre">WORKON_HOME</span></code> with a string that gives a
path to a subfolder of your home directory (<code class="docutils literal"><span class="pre">~</span></code>) called <code class="docutils literal"><span class="pre">Envs</span></code>,
which the next command (<code class="docutils literal"><span class="pre">mkdir</span></code>) then makes according to the path
described in <code class="docutils literal"><span class="pre">$WORKON_HOME</span></code> (recursively, due to the <code class="docutils literal"><span class="pre">-p</span></code> flag).
That is where your environments will be stored. The <code class="docutils literal"><span class="pre">source</span></code> command
will run the command that follows, which in this case locates the
<code class="docutils literal"><span class="pre">virtualenvwrapper.sh</span></code> shell script, the contents of which are beyond
the scope of this setup tutorial. If you want to know what it does, a
more in depth description can be found on the <a class="reference external" href="http://virtualenvwrapper.readthedocs.io/en/latest/install.html#python-interpreter-virtualenv-and-path">documentation site for virtualenvwrapper</a>.</p>
<p>Finally, the <code class="docutils literal"><span class="pre">mkvirtualenv</span></code> makes your first virtual environment which
you’ve named <code class="docutils literal"><span class="pre">dallinger</span></code>. We have explicitly passed it the location of
<code class="docutils literal"><span class="pre">python2.7</span></code> so that even if your <code class="docutils literal"><span class="pre">python</span></code> command has been remapped
to <code class="docutils literal"><span class="pre">python3</span></code>, it will create the environment with <code class="docutils literal"><span class="pre">python2.7</span></code> as its
interpreter.</p>
<p>In the future, you can work on your virtual environment by running:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>source $(which virtualenvwrapper.sh)
workon dallinger
</pre></div>
</div>
<p>NB: To stop working on the virtual environment, run <code class="docutils literal"><span class="pre">deactivate</span></code>. To
list all available virtual environments, run <code class="docutils literal"><span class="pre">workon</span></code> with no
arguments.</p>
<p>If you plan to do a lot of work with Dallinger, you can make your shell
execute the <code class="docutils literal"><span class="pre">virtualenvwrapper.sh</span></code> script everytime you open a terminal. To
do that, assuming you use a Linux compatible system, type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s2">&quot;source $(which virtualenvwrapper.sh)&quot;</span> <span class="o">&gt;&gt;</span> <span class="o">~/.</span><span class="n">bashrc</span>
</pre></div>
</div>
<p>I you use Mac OsX, type this instead:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s2">&quot;source $(which virtualenvwrapper.sh)&quot;</span> <span class="o">&gt;&gt;</span> <span class="o">~/.</span><span class="n">bash_profile</span>
</pre></div>
</div>
<p>From then on, you only need to use the <code class="docutils literal"><span class="pre">workon</span></code> command before starting.</p>
</div>
<div class="section" id="install-prerequisites-for-building-documentation">
<h2>Install prerequisites for building documentation<a class="headerlink" href="#install-prerequisites-for-building-documentation" title="Permalink to this headline">¶</a></h2>
<p>To be able to build the documentation, you will need:</p>
<ul class="simple">
<li>pandoc. Please follow the instructions <a class="reference external" href="http://pandoc.org/installing.html">here</a> to install it.</li>
<li>the Enchant library. Please follow the instructions <a class="reference external" href="http://pythonhosted.org/pyenchant/download.html">here</a> to install it.</li>
</ul>
</div>
<div class="section" id="install-dallinger">
<h2>Install Dallinger<a class="headerlink" href="#install-dallinger" title="Permalink to this headline">¶</a></h2>
<p>Next, navigate to the directory where you want to house your development
work on Dallinger. Once there, clone the Git repository using:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Dallinger</span><span class="o">/</span><span class="n">Dallinger</span>
</pre></div>
</div>
<p>This will create a directory called <code class="docutils literal"><span class="pre">Dallinger</span></code> in your current
directory.</p>
<p>Change into your the new directory and make sure you are still in your
virtual environment before installing the dependencies. If you want to
be extra careful, run the command <code class="docutils literal"><span class="pre">workon</span> <span class="pre">dallinger</span></code>, which will ensure
that you are in the right virtual environment.</p>
<p><strong>Note</strong>: if you are using Anaconda – as of August 10, 2016 – you will need to
follow special <a class="reference internal" href="dallinger_with_anaconda.html"><span class="doc">Anaconda installation instructions</span></a>. This should be fixed in future versions.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">Dallinger</span>
</pre></div>
</div>
<p>Now we need to install the dependencies using pip:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">dev</span><span class="o">-</span><span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Next run <code class="docutils literal"><span class="pre">setup.py</span></code> with the argument <code class="docutils literal"><span class="pre">develop</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span><span class="p">[</span><span class="n">data</span><span class="p">]</span>
</pre></div>
</div>
<p>Test that your installation works by running:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">dallinger</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
<p><strong>Note</strong>: if you are using Anaconda and get a long traceback here,
please see the special <a class="reference internal" href="dallinger_with_anaconda.html"><span class="doc">Installing Dallinger with Anaconda</span></a>.</p>
<p>Next, you’ll need <a class="reference internal" href="aws_etc_keys.html"><span class="doc">access keys for AWS, Heroku,
etc.</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="demos/vox_populi/index.html" title="previous chapter">Vox Populi (Wisdom of the crowd)</a></li>
      <li>Next: <a href="running_the_tests.html" title="next chapter">Running the tests</a></li>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
    </div>

    
    <a href="https://github.com/Dallinger/Dallinger" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="_static/corner.jpg" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>