# coding: utf-8
from __future__ import print_function, unicode_literals
import sqlite3
import re

from sqlitefts import fts5
from sqlitefts import Tokenizer

import pytest


class SimpleTokenizer(Tokenizer):
    _p = re.compile(r'\w+', re.UNICODE)

    def tokenize(self, text, flags):
        for m in self._p.finditer(text):
            s, e = m.span()
            t = text[s:e]
            l = len(t.encode('utf-8'))
            p = len(text[:s].encode('utf-8'))
            yield t, p, p + l
