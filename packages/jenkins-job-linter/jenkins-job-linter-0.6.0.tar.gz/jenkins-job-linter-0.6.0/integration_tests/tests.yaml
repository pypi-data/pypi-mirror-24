cases:
    - name: test_all_linters_happy_path
      jobs.yaml: |
          - job:
              name: test-job
              builders:
                - shell: "#!/bin/sh -eux"
              wrappers:
                - timestamps
      expected_output: ""
      expect_success: True

    - name: test_missing_timestamps
      jobs.yaml: |
          - job:
              name: test-job
              builders:
                - shell: "#!/bin/sh -eux"
      expected_output: |
        test-job: checking for timestamps: FAIL
      expect_success: False

    - name: test_invalid_shebang
      jobs.yaml: |
          - job:
              name: test-job
              builders:
                - shell: "#!/bin/sh -ex"
              wrappers:
                - timestamps
      expected_output: |
        test-job: checking shebang of shell builders: FAIL: Shebang is #!/bin/sh -ex
      expect_success: False

    - name: test_empty_shell_builder
      jobs.yaml: |
          - job:
              name: test-job
              builders:
                - shell: ""
              wrappers:
                - timestamps
      expected_output: |
        test-job: checking shell builder shell scripts are not empty: FAIL
      expect_success: False

    - name: test_config_doesnt_cause_explosion
      jobs.yaml: |
          - job:
              name: test-job
              builders:
                - shell: "#!/bin/sh -eux"
              wrappers:
                - timestamps
      expected_output: ""
      config: |
          [job_linter]
          foo=bar
      expect_success: True
