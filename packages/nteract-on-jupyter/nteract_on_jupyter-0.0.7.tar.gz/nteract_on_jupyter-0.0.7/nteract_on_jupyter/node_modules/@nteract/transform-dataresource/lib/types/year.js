"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _isNaN2 = require("lodash/isNaN");

var _isNaN3 = _interopRequireDefault(_isNaN2);

var _isString2 = require("lodash/isString");

var _isString3 = _interopRequireDefault(_isString2);

var _isInteger2 = require("lodash/isInteger");

var _isInteger3 = _interopRequireDefault(_isInteger2);

exports.castYear = castYear;

var _config = require("../config");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Module API

function castYear(format, value) {
  if (!(0, _isInteger3.default)(value)) {
    if (!(0, _isString3.default)(value)) {
      return _config.ERROR;
    }
    if (value.length !== 4) {
      return _config.ERROR;
    }
    try {
      var result = parseInt(value, 10);
      if ((0, _isNaN3.default)(result) || result.toString() !== value) {
        return _config.ERROR;
      }
      value = result;
    } catch (error) {
      return _config.ERROR;
    }
  }
  if (value < 0 || value > 9999) {
    return _config.ERROR;
  }
  return value;
}